<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Quick Add - Save Path</title>
  <link rel="stylesheet" href="css/project.css">
</head>
<body class="quickadd-bg">
  <div id="wrapper">
    <header>
      <h1 class="site-title">Save Path</h1>
      <nav class="top-nav">
        <a href="index.html" class="home-link">Home</a>
        <div class="controls">
          <label for="nav-select">Explore:</label>
          <select id="nav-select">
            <option value=""> </option>
            <option value="dashboard.html">Dashboard</option>
            <option value="visuals.html">Visuals</option>
            <option value="goals.html">Goals</option>
            <option value="calendar.html">Calendar</option>
          </select>
        </div>
        <a href="quickadd.html" class="quick-add-btn">+ Quick Add</a>
      </nav>
    </header>

    <main>
      <section id="quickadd-choice" class="quickadd-choice">
        <div id="choose-expense" class="dashboard-box">
          <h3>Add Expense/Income</h3>
          <p>Log a one-time transaction.</p>
        </div>
        <div id="choose-recurring" class="dashboard-box">
          <h3>Add Recurring Payment</h3>
          <p>Set up a weekly or monthly bill.</p>
        </div>
      </section>

      <div class="quickadd-card" id="expense-card" style="display:none;">
        <h2>Add New Expense/Income</h2>
        <form id="expense-form">
          <label for="desc">Description:</label>
          <input type="text" id="desc" required>
          <label for="amount">Amount:</label>
          <input type="number" id="amount" required>
          <label for="type">Type:</label>
          <select id="type">
            <option value="expense">Expense</option>
            <option value="income">Income</option>
          </select>
          <label for="date">Date:</label>
          <input type="date" id="date" required>
          <button type="submit">Add</button>
        </form>
        <button class="back-btn" onclick="goBack()">← Back to Options</button>
      </div>

      <div class="quickadd-card" id="recurring-card" style="display:none;">
        <h2>Add Recurring Payment</h2>
        <form id="recurring-form">
          <label for="rdesc">Description:</label>
          <input type="text" id="rdesc" required>
          <label for="ramount">Amount:</label>
          <input type="number" id="ramount" required>
          <label for="frequency">Frequency:</label>
          <select id="frequency" required>
            <option value="">-- Select Frequency --</option>
            <option value="weekly">Weekly</option>
            <option value="monthly">Monthly</option>
          </select>
          <label for="startDate">Start Date:</label>
          <input type="date" id="startDate" required>
          <label for="endDate">End Date (optional):</label>
          <input type="date" id="endDate">
          <button type="submit">Add Recurring Payment</button>
        </form>
        <button class="back-btn" onclick="goBack()">← Back to Options</button>
      </div>
    </main>

    <footer>
      <p>&copy; 2025 Budget Calendar | All Rights Reserved<br>Contact us: 777-888-9999</p>
    </footer>
  </div>

  <script>
    document.getElementById('nav-select').addEventListener('change', (e) => {
      const page = e.target.value;
      if (page) window.location.href = page;
    });

    document.getElementById('choose-expense').addEventListener('click', () => {
      document.getElementById('quickadd-choice').style.display = 'none';
      document.getElementById('expense-card').style.display = 'block';
    });

    document.getElementById('choose-recurring').addEventListener('click', () => {
      document.getElementById('quickadd-choice').style.display = 'none';
      document.getElementById('recurring-card').style.display = 'block';
    });

    function goBack() {
      document.getElementById('expense-card').style.display = 'none';
      document.getElementById('recurring-card').style.display = 'none';
      document.getElementById('quickadd-choice').style.display = 'flex';
    }

    document.getElementById('expense-form').addEventListener('submit', function(e) {
      e.preventDefault();
      const transaction = {
        desc: document.getElementById('desc').value,
        amount: parseFloat(document.getElementById('amount').value),
        type: document.getElementById('type').value,
        date: document.getElementById('date').value,
        recurring: false
      };
      let transactions = JSON.parse(localStorage.getItem('transactions')) || [];
      transactions.push(transaction);
      localStorage.setItem('transactions', JSON.stringify(transactions));
      alert('Transaction added!');
      this.reset();
    });

    document.getElementById('recurring-form').addEventListener('submit', function(e) {
      e.preventDefault();
      const recurring = {
        desc: document.getElementById('rdesc').value,
        amount: parseFloat(document.getElementById('ramount').value),
        frequency: document.getElementById('frequency').value,
        startDate: document.getElementById('startDate').value,
        endDate: document.getElementById('endDate').value || null,
        recurring: true
      };
      let transactions = JSON.parse(localStorage.getItem('transactions')) || [];
      transactions.push(recurring);
      localStorage.setItem('transactions', JSON.stringify(transactions));
      alert('Recurring payment added!');
      this.reset();
    });
  </script>
</body>
</html>